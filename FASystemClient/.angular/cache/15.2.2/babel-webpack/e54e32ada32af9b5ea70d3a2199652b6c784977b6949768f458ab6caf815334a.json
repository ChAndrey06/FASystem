{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { forkJoin, takeUntil } from 'rxjs';\nimport { ToolbarComponent } from '../components';\nimport { DestroyService } from '@core/services';\nlet MainLayoutComponent = class MainLayoutComponent {\n  constructor(viewDestroyed$, userState, accountsState, authService, accountsService) {\n    this.viewDestroyed$ = viewDestroyed$;\n    this.userState = userState;\n    this.accountsState = accountsState;\n    this.authService = authService;\n    this.accountsService = accountsService;\n    this.user$ = this.userState.data$;\n    this.accounts$ = this.accountsState.data$;\n  }\n  ngOnInit() {\n    // this.authService.update()\n    //   .pipe(takeUntil(this.viewDestroyed$))\n    //   .subscribe();\n    forkJoin([this.authService.update(), this.accountsService.update()]).pipe(takeUntil(this.viewDestroyed$)).subscribe();\n  }\n};\nMainLayoutComponent = __decorate([Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [CommonModule, RouterModule, ToolbarComponent],\n  providers: [DestroyService],\n  template: `\n    <app-toolbar [user]=\"user$ | async\" [accounts]=\"accounts$ | async)\"]></app-toolbar>\n    <div class=\"container\">\n      <router-outlet></router-outlet>\n    </div>\n  `,\n  styles: [`\n    .container {\n      padding-top: 10px;\n    }\n  `]\n}), __param(0, Inject(DestroyService))], MainLayoutComponent);\nexport { MainLayoutComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAgB,eAAe;AACzD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,QAAQ,EAAcC,SAAS,QAAQ,MAAM;AAEtD,SAASC,gBAAgB,QAAQ,eAAe;AAEhD,SAASC,cAAc,QAAQ,gBAAgB;AA2BxC,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAI9BC,YAC2CC,cAAgC,EACxDC,SAAoB,EACpBC,aAA4B,EAC5BC,WAAwB,EACxBC,eAAgC;IAJR,mBAAc,GAAdJ,cAAc;IACtC,cAAS,GAATC,SAAS;IACT,kBAAa,GAAbC,aAAa;IACb,gBAAW,GAAXC,WAAW;IACX,oBAAe,GAAfC,eAAe;IARlC,UAAK,GAAG,IAAI,CAACH,SAAS,CAACI,KAAK;IAC5B,cAAS,GAAG,IAAI,CAACH,aAAa,CAACG,KAAK;EAQhC;EAEJC,QAAQ;IACN;IACA;IACA;IAEAZ,QAAQ,CAAC,CACP,IAAI,CAACS,WAAW,CAACI,MAAM,EAAE,EACzB,IAAI,CAACH,eAAe,CAACG,MAAM,EAAE,CAC9B,CAAC,CACCC,IAAI,CAACb,SAAS,CAAC,IAAI,CAACK,cAAc,CAAC,CAAC,CACpCS,SAAS,EAAE;EAChB;CACD;AAxBYX,mBAAmB,eAxB/BR,SAAS,CAAC;EACToB,QAAQ,EAAE,iBAAiB;EAC3BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACPpB,YAAY,EACZC,YAAY,EAEZG,gBAAgB,CACjB;EACDiB,SAAS,EAAE,CACThB,cAAc,CACf;EACDiB,QAAQ,EAAE;;;;;GAKT;EACDC,MAAM,EAAE,CAAC;;;;GAIR;CACF,CAAC,EAMGC,iBAAM,CAACnB,cAAc,CAAC,IALdC,mBAAmB,CAwB/B;SAxBYA,mBAAmB","names":["Component","Inject","CommonModule","RouterModule","forkJoin","takeUntil","ToolbarComponent","DestroyService","MainLayoutComponent","constructor","viewDestroyed$","userState","accountsState","authService","accountsService","data$","ngOnInit","update","pipe","subscribe","selector","standalone","imports","providers","template","styles","__param"],"sourceRoot":"","sources":["/home/eagold/MyFiles/FASystem/FASystemClient/src/app/layouts/main-layout/main-layout.component.ts"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { forkJoin, Observable, takeUntil } from 'rxjs';\n\nimport { ToolbarComponent } from '../components';\nimport { AuthService, UserState } from '@features/users';\nimport { DestroyService } from '@core/services';\nimport { AccountsService, AccountsState } from '@features/accounts';\n\n@Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterModule,\n\n    ToolbarComponent\n  ],\n  providers: [\n    DestroyService\n  ],\n  template: `\n    <app-toolbar [user]=\"user$ | async\" [accounts]=\"accounts$ | async)\"]></app-toolbar>\n    <div class=\"container\">\n      <router-outlet></router-outlet>\n    </div>\n  `,\n  styles: [`\n    .container {\n      padding-top: 10px;\n    }\n  `]\n})\nexport class MainLayoutComponent implements OnInit{\n  user$ = this.userState.data$;\n  accounts$ = this.accountsState.data$;\n\n  constructor(\n    @Inject(DestroyService) private readonly viewDestroyed$: Observable<void>,\n    private readonly userState: UserState,\n    private readonly accountsState: AccountsState,\n    private readonly authService: AuthService,\n    private readonly accountsService: AccountsService\n  ) { }\n\n  ngOnInit(): void {\n    // this.authService.update()\n    //   .pipe(takeUntil(this.viewDestroyed$))\n    //   .subscribe();\n\n    forkJoin([  \n      this.authService.update(), \n      this.accountsService.update()\n    ])\n      .pipe(takeUntil(this.viewDestroyed$))\n      .subscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}