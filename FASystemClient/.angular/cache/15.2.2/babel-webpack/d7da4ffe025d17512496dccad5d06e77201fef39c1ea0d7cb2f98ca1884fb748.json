{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { takeUntil } from 'rxjs';\nimport { ToolbarComponent } from '../components';\nimport { DestroyService } from '@core/services';\nlet MainLayoutComponent = class MainLayoutComponent {\n  constructor(viewDestroyed$, userState, authService) {\n    this.viewDestroyed$ = viewDestroyed$;\n    this.userState = userState;\n    this.authService = authService;\n    this.userData$ = this.userState.data$;\n  }\n  ngOnInit() {\n    this.authService.update().pipe(takeUntil(this.viewDestroyed$)).subscribe();\n  }\n};\nMainLayoutComponent = __decorate([Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [CommonModule, RouterModule, ToolbarComponent],\n  template: `\n    <app-toolbar [user]=\"userData$ | async\"></app-toolbar>\n    <router-outlet></router-outlet>\n  `,\n  styles: []\n}), __param(0, Inject(DestroyService))], MainLayoutComponent);\nexport { MainLayoutComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAgB,eAAe;AACzD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAAqBC,SAAS,QAAQ,MAAM;AAE5C,SAASC,gBAAgB,QAAQ,eAAe;AAEhD,SAASC,cAAc,QAAQ,gBAAgB;AAkBxC,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAG9BC,YAC2CC,cAAgC,EACxDC,SAAoB,EACpBC,WAAwB;IAFA,mBAAc,GAAdF,cAAc;IACtC,cAAS,GAATC,SAAS;IACT,gBAAW,GAAXC,WAAW;IAL9B,cAAS,GAAG,IAAI,CAACD,SAAS,CAACE,KAAK;EAM5B;EAEJC,QAAQ;IACN,IAAI,CAACF,WAAW,CAACG,MAAM,EAAE,CACtBC,IAAI,CAACX,SAAS,CAAC,IAAI,CAACK,cAAc,CAAC,CAAC,CACpCO,SAAS,EAAE;EAChB;CACD;AAdYT,mBAAmB,eAhB/BP,SAAS,CAAC;EACTiB,QAAQ,EAAE,iBAAiB;EAC3BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACPjB,YAAY,EACZC,YAAY,EAEZE,gBAAgB,CACjB;EACDe,QAAQ,EAAE;;;GAGT;EACDC,MAAM,EAAE;CAET,CAAC,EAKGC,iBAAM,CAAChB,cAAc,CAAC,IAJdC,mBAAmB,CAc/B;SAdYA,mBAAmB","names":["Component","Inject","CommonModule","RouterModule","takeUntil","ToolbarComponent","DestroyService","MainLayoutComponent","constructor","viewDestroyed$","userState","authService","data$","ngOnInit","update","pipe","subscribe","selector","standalone","imports","template","styles","__param"],"sourceRoot":"","sources":["/home/eagold/MyFiles/FASystem/FASystemClient/src/app/layouts/main-layout/main-layout.component.ts"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { Observable, takeUntil } from 'rxjs';\n\nimport { ToolbarComponent } from '../components';\nimport { AuthService, UserState } from '@features/users';\nimport { DestroyService } from '@core/services';\n\n@Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterModule,\n\n    ToolbarComponent\n  ],\n  template: `\n    <app-toolbar [user]=\"userData$ | async\"></app-toolbar>\n    <router-outlet></router-outlet>\n  `,\n  styles: [\n  ]\n})\nexport class MainLayoutComponent implements OnInit{\n  userData$ = this.userState.data$;\n\n  constructor(\n    @Inject(DestroyService) private readonly viewDestroyed$: Observable<void>,\n    private readonly userState: UserState,\n    private readonly authService: AuthService\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.update()\n      .pipe(takeUntil(this.viewDestroyed$))\n      .subscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}