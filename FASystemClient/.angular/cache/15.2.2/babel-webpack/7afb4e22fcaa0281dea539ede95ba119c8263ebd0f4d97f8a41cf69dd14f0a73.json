{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { takeUntil } from 'rxjs';\nimport { ToolbarComponent } from '../components';\nlet MainLayoutComponent = class MainLayoutComponent {\n  constructor(userState, authService, viewDestroyed$) {\n    this.userState = userState;\n    this.authService = authService;\n    this.viewDestroyed$ = viewDestroyed$;\n    this.userData$ = this.userState.data$;\n  }\n  ngOnInit() {\n    this.authService.update().pipe(takeUntil(this.viewDestroyed$)).subscribe();\n  }\n};\nMainLayoutComponent = __decorate([Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [CommonModule, RouterModule, ToolbarComponent],\n  template: `\n    <app-toolbar [user]=\"userData$ | async\"></app-toolbar>\n    <router-outlet></router-outlet>\n  `,\n  styles: []\n}), __param(2, Inject(DestroyService))], MainLayoutComponent);\nexport { MainLayoutComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,SAAS,QAAQ,MAAM;AAEhC,SAASC,gBAAgB,QAAQ,eAAe;AAmBzC,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAG9BC,YACmBC,SAAoB,EACpBC,WAAwB,EACAC,cAAgC;IAFxD,cAAS,GAATF,SAAS;IACT,gBAAW,GAAXC,WAAW;IACa,mBAAc,GAAdC,cAAc;IALzD,cAAS,GAAG,IAAI,CAACF,SAAS,CAACG,KAAK;EAM5B;EAEJC,QAAQ;IACN,IAAI,CAACH,WAAW,CAACI,MAAM,EAAE,CACtBC,IAAI,CAACV,SAAS,CAAC,IAAI,CAACM,cAAc,CAAC,CAAC,CACpCK,SAAS,EAAE;EAChB;CACD;AAdYT,mBAAmB,eAhB/BL,SAAS,CAAC;EACTe,QAAQ,EAAE,iBAAiB;EAC3BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACPhB,YAAY,EACZC,YAAY,EAEZE,gBAAgB,CACjB;EACDc,QAAQ,EAAE;;;GAGT;EACDC,MAAM,EAAE;CAET,CAAC,EAOGC,iBAAM,CAACC,cAAc,CAAC,IANdhB,mBAAmB,CAc/B;SAdYA,mBAAmB","names":["Component","CommonModule","RouterModule","takeUntil","ToolbarComponent","MainLayoutComponent","constructor","userState","authService","viewDestroyed$","data$","ngOnInit","update","pipe","subscribe","selector","standalone","imports","template","styles","__param","DestroyService"],"sourceRoot":"","sources":["/home/eagold/MyFiles/FASystem/FASystemClient/src/app/layouts/main-layout/main-layout.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { takeUntil } from 'rxjs';\n\nimport { ToolbarComponent } from '../components';\nimport { AuthService, UserState } from '@features/users';\n\n@Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterModule,\n\n    ToolbarComponent\n  ],\n  template: `\n    <app-toolbar [user]=\"userData$ | async\"></app-toolbar>\n    <router-outlet></router-outlet>\n  `,\n  styles: [\n  ]\n})\nexport class MainLayoutComponent implements OnInit{\n  userData$ = this.userState.data$;\n\n  constructor(\n    private readonly userState: UserState,\n    private readonly authService: AuthService,\n    @Inject(DestroyService) private readonly viewDestroyed$: Observable<void>,\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.update()\n      .pipe(takeUntil(this.viewDestroyed$))\n      .subscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}