{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { ToolbarComponent } from '../components';\nimport { takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@features/users\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nexport class MainLayoutComponent {\n  constructor(userState, authService) {\n    this.userState = userState;\n    this.authService = authService;\n    this.userData$ = this.userState.data$;\n  }\n  ngOnInit() {\n    this.authService.update().pipe(takeUntil(this.viewDestroyed$)).subscribe();\n  }\n}\nMainLayoutComponent.ɵfac = function MainLayoutComponent_Factory(t) {\n  return new (t || MainLayoutComponent)(i0.ɵɵdirectiveInject(i1.UserState), i0.ɵɵdirectiveInject(i1.AuthService));\n};\nMainLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainLayoutComponent,\n  selectors: [[\"app-main-layout\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 3,\n  vars: 3,\n  consts: [[3, \"user\"]],\n  template: function MainLayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-toolbar\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelement(2, \"router-outlet\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"user\", i0.ɵɵpipeBind1(1, 1, ctx.userData$));\n    }\n  },\n  dependencies: [CommonModule, i2.AsyncPipe, RouterModule, i3.RouterOutlet, ToolbarComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,gBAAgB,QAAQ,eAAe;AAEhD,SAASC,SAAS,QAAQ,MAAM;;;;;AAkBhC,OAAM,MAAOC,mBAAmB;EAG9BC,YACmBC,SAAoB,EACpBC,WAAwB;IADxB,cAAS,GAATD,SAAS;IACT,gBAAW,GAAXC,WAAW;IAJ9B,cAAS,GAAG,IAAI,CAACD,SAAS,CAACE,KAAK;EAK5B;EAEJC,QAAQ;IACN,IAAI,CAACF,WAAW,CAACG,MAAM,EAAE,CACtBC,IAAI,CAACR,SAAS,CAAC,IAAI,CAACS,cAAc,CAAC,CAAC,CACpCC,SAAS,EAAE;EAChB;;AAZWT,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAU;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAN5BC,iCAAsD;;MACtDA,gCAA+B;;;MADlBA,0DAA0B;;;iBANvCrB,YAAY,gBACZC,YAAY,mBAEZC,gBAAgB;EAAAoB;AAAA","names":["CommonModule","RouterModule","ToolbarComponent","takeUntil","MainLayoutComponent","constructor","userState","authService","data$","ngOnInit","update","pipe","viewDestroyed$","subscribe","selectors","standalone","features","decls","vars","consts","template","i0","encapsulation"],"sourceRoot":"","sources":["/home/eagold/MyFiles/FASystem/FASystemClient/src/app/layouts/main-layout/main-layout.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { ToolbarComponent } from '../components';\nimport { AuthService, UserState } from '@features/users';\nimport { takeUntil } from 'rxjs';\n\n@Component({\n  selector: 'app-main-layout',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterModule,\n\n    ToolbarComponent\n  ],\n  template: `\n    <app-toolbar [user]=\"userData$ | async\"></app-toolbar>\n    <router-outlet></router-outlet>\n  `,\n  styles: [\n  ]\n})\nexport class MainLayoutComponent implements OnInit{\n  userData$ = this.userState.data$;\n\n  constructor(\n    private readonly userState: UserState,\n    private readonly authService: AuthService\n  ) { }\n\n  ngOnInit(): void {\n    this.authService.update()\n      .pipe(takeUntil(this.viewDestroyed$))\n      .subscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}